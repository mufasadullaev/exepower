# ЭлектроСтанция - Система учета параметров оборудования

Система для учета и мониторинга параметров оборудования электростанции. Позволяет вносить, хранить и анализировать данные о работе турбогенераторов (ТГ) и парогазовых установок (ПГУ).

## Технологии

- Frontend: React.js с библиотекой CoreUI
- Backend: PHP API с JWT-аутентификацией
- База данных: MySQL

## Структура проекта

- `/client` - React-приложение
- `/api` - PHP API
- `/api/database` - Скрипты для создания базы данных

## Установка и настройка

### Требования

- PHP 7.4+ с поддержкой PDO
- MySQL 5.7+
- Node.js 14+ (для разработки)

### Настройка базы данных

1. Создайте базу данных MySQL с именем `exepower`
2. Откройте файл `/api/config.php` и настройте параметры подключения к БД:
   ```php
   define('DB_HOST', 'localhost');
   define('DB_NAME', 'exepower');
   define('DB_USER', 'root');
   define('DB_PASS', '');
   ```
3. Запустите скрипт установки базы данных, открыв в браузере:
   ```
   http://exepower/api/database/install.php
   ```

### Запуск приложения

1. Откройте в браузере:
   ```
   http://exepower/client/
   ```
2. Войдите в систему, используя:
   - Имя пользователя: `admin`
   - Пароль: `admin123`

## Роли пользователей

В системе предусмотрены три роли пользователей:

1. **Рядовой** - может вводить значения параметров оборудования
2. **Инженер** - может вводить значения и просматривать отчеты
3. **Менеджер** - имеет полный доступ к системе, включая управление пользователями

## Основные функции

### Ввод параметров

1. Выберите оборудование (ТГ7, ТГ8, ПГУ1, ПГУ2)
2. Укажите дату и смену
3. Введите значения параметров
4. Нажмите "Сохранить"

### Просмотр данных

На главной странице (дашборде) отображается:
- Общая статистика
- Форма ввода параметров
- Таблица с последними введенными значениями

## API Endpoints

### Аутентификация

- `POST /api/auth/login` - Вход в систему
- `GET /api/auth/verify` - Проверка токена
- `POST /api/auth/register` - Регистрация нового пользователя (только для менеджеров)
- `GET /api/auth/users` - Получение списка пользователей (только для менеджеров)

### Данные

- `GET /api/dashboard` - Получение данных для дашборда
- `GET /api/parameters` - Получение списка параметров для типа оборудования
- `GET /api/parameter-values` - Получение значений параметров
- `POST /api/parameter-values` - Сохранение значений параметров

## Расширение системы

Для добавления новых параметров или оборудования:

1. Добавьте записи в соответствующие таблицы базы данных
2. Обновите интерфейс, если требуется

## Устранение неполадок

Если возникают проблемы с API, проверьте:
1. Настройки подключения к базе данных в `config.php`
2. Права доступа к файлам и директориям
3. Логи ошибок PHP

Для отладки API можно использовать:
```
http://exepower/api/debug.php
```